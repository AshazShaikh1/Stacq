<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stack Extension Icon Generator</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #0D111A;
      color: #E8EDF5;
    }
    h1 {
      color: #14E1D9;
    }
    .icon-preview {
      display: flex;
      gap: 20px;
      margin: 30px 0;
      flex-wrap: wrap;
    }
    .icon-item {
      text-align: center;
    }
    canvas {
      border: 2px solid #1A1F2B;
      border-radius: 8px;
      background: #0A0D14;
    }
    button {
      margin-top: 10px;
      padding: 8px 16px;
      background: #14E1D9;
      color: #071017;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
    }
    button:hover {
      transform: translateY(-1px);
    }
    .instructions {
      background: #0A0D14;
      border: 1px solid #1A1F2B;
      border-radius: 12px;
      padding: 20px;
      margin-top: 30px;
    }
    code {
      background: #1A1F2B;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¨ Stack Extension Icon Generator</h1>
  <p>Click the buttons below to download each icon size. Save them in the <code>icons/</code> folder.</p>
  
  <div class="icon-preview">
    <div class="icon-item">
      <canvas id="icon16" width="16" height="16"></canvas>
      <div>16Ã—16</div>
      <button onclick="downloadIcon(16)">Download</button>
    </div>
    <div class="icon-item">
      <canvas id="icon48" width="48" height="48"></canvas>
      <div>48Ã—48</div>
      <button onclick="downloadIcon(48)">Download</button>
    </div>
    <div class="icon-item">
      <canvas id="icon128" width="128" height="128"></canvas>
      <div>128Ã—128</div>
      <button onclick="downloadIcon(128)">Download</button>
    </div>
  </div>

  <div class="instructions">
    <h3>ðŸ“‹ Instructions</h3>
    <ol>
      <li>Click each "Download" button above</li>
      <li>Save the files as:
        <ul>
          <li><code>icon-16.png</code></li>
          <li><code>icon-48.png</code></li>
          <li><code>icon-128.png</code></li>
        </ul>
      </li>
      <li>Place all three files in the <code>extension/icons/</code> folder</li>
      <li>Done! Your extension is ready to install.</li>
    </ol>
  </div>

  <script>
    // Draw icon on canvas
    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      
      // Background (Electric Cyan)
      ctx.fillStyle = '#14E1D9';
      const radius = size * 0.14; // ~18px for 128px icon
      ctx.beginPath();
      ctx.roundRect(0, 0, size, size, radius);
      ctx.fill();
      
      // Letter "S" (Dark background color)
      ctx.fillStyle = '#071017';
      ctx.font = `bold ${size * 0.56}px Arial`;
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('S', size / 2, size / 2);
    }

    // Polyfill for roundRect if needed
    if (!CanvasRenderingContext2D.prototype.roundRect) {
      CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
        this.beginPath();
        this.moveTo(x + radius, y);
        this.lineTo(x + width - radius, y);
        this.quadraticCurveTo(x + width, y, x + width, y + radius);
        this.lineTo(x + width, y + height - radius);
        this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
        this.lineTo(x + radius, y + height);
        this.quadraticCurveTo(x, y + height, x, y + height - radius);
        this.lineTo(x, y + radius);
        this.quadraticCurveTo(x, y, x + radius, y);
        this.closePath();
      };
    }

    // Initialize canvases
    const sizes = [16, 48, 128];
    sizes.forEach(size => {
      const canvas = document.getElementById(`icon${size}`);
      drawIcon(canvas, size);
    });

    // Download function
    function downloadIcon(size) {
      const canvas = document.getElementById(`icon${size}`);
      canvas.toBlob(blob => {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `icon-${size}.png`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      });
    }
  </script>
</body>
</html>
